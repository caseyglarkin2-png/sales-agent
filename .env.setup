#!/bin/bash
# Quick setup script - run this ONCE
# Usage: bash .env.setup

echo "=== Sales Agent Secret Setup ==="
echo ""
echo "Go to: https://github.com/caseyglarkin2-png/sales-agent/settings/secrets/actions"
echo ""

read -p "Enter HUBSPOT_API_KEY (pat-na1-...): " HUBSPOT_API_KEY
read -p "Enter OPENAI_API_KEY (sk-...): " OPENAI_API_KEY
read -p "Enter DATABASE_URL (postgresql://...): " DATABASE_URL
EXPECTED_HUBSPOT_FORM_ID="db8b22de-c3d4-4fc6-9a16-011fe322e82c-a139838e-99fa-44bd-9052-2d04b26f8bf4"
GOOGLE_CREDENTIALS_FILE=~/.secrets/google-creds.json

# Create .env file (automatically added to .gitignore)
cat > .env << ENVEOF
HUBSPOT_API_KEY=$HUBSPOT_API_KEY
OPENAI_API_KEY=$OPENAI_API_KEY
DATABASE_URL=$DATABASE_URL
EXPECTED_HUBSPOT_FORM_ID=$EXPECTED_HUBSPOT_FORM_ID
GOOGLE_CREDENTIALS_FILE=$GOOGLE_CREDENTIALS_FILE
ENVEOF

echo ""
echo "âœ… .env file created!"
echo ""
echo "Now run: source .venv/bin/activate && set -a && source .env && set +a && make check-secrets"
